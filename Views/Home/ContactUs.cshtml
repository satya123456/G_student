@model Gstudent.ViewModels.Studentrecords.Contactussummary



<style>
    .contact h3 {
        color: #007367;
    }


    .panel {
        margin-bottom: 20px;
        background-color: #fff;
        border: 1px solid transparent;
        border-radius: 4px;
        -webkit-box-shadow: 0 1px 1px rgba(0,0,0,.05);
        box-shadow: 0 1px 1px rgba(0,0,0,.05);
    }

    .panel-body {
        padding: 15px;
    }

    .contact .panel {
        min-height: 170px;
    }

    .panel-default {
        border-color: #ddd;
    }

    ul.lst2 {
        list-style: none;
        padding-left: 0px;
    }

        ul.lst2 li {
            padding: 5px 0;
            position: relative;
            font-size: 15px;
        }

            ul.lst2 li:before {
                position: absolute;
                content: "";
                left: -20px;
                top: 5px;
                font-family: FontAwesome;
                font-style: normal;
                font-weight: normal;
                text-decoration: inherit;
            }

    ul li {
        list-style: none;
    }

    h3 {
        font-size: 24px;
        font-weight: 400;
    }

    h4 {
        font-size: 18px;
    }

    .height39 {
        height: 39px !important;
    }
    .inner {
        margin-bottom: 10px;
        border: 1px solid #ccc;
        padding: 15px;
    }
</style>
<section class="content-container contentContainer">

    <div class="d-flex justify-content-between">
        <h3 class="page-title">Mentor details</h3>
        <div class="back">
            <a href="javascript:void(0);" onclick="location.reload();">
                <i class='bx bx-arrow-back'></i>
            </a>
        </div>
    </div>

    @if (@Model.note.mentor_EMP_NAME == "" && @Model.note.mentor_Mobile == "" && @Model.note.mentor_EMAILID == "")
    {

        <div class="box-container">
            <h6 class="text-center" style="margin-top:20px;">no data available</h6>
        </div>

    }
    else
    {
        <div class="contact box-container">
            <div class="row ">
                @*<div class="col-md-6">!
                        <div class="inner">
                                <h4><span id="MainContent_Label5">@Model.note.EMP_NAME</span></h4>
                                <h6> Head of the hostel </h6>
                           Landline number : <span id="MainContent_Label6">@Model.note.Mobile</span>

                          </div>
                    </div>*@
                <div class="col-md-6">


                    <div class="panel panel-default">
                        <div class="panel-body">

                            <h4 style="padding-bottom:1px;"><span id="MainContent_Label11"></span></h4>
                            <ul class="lst2">
                                <li>Mentor name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp; <span id="MainContent_Label10">@Model.note.mentor_EMP_NAME</span></li>
                                <li>Mobile number&nbsp;&nbsp;:&nbsp;&nbsp;  <span id="MainContent_Label13">@Model.note.mentor_Mobile</span></li>
                                <li>Email&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;&nbsp;  <span id="MainContent_Label12">@Model.note.mentor_EMAILID</span></li>

                            </ul>

                        </div>
                    </div>


                </div>
            </div>
        </div>

        <h3 class="sub-title">Mentor notes</h3>
        <div class="box-container">
            <div class="table-responsive">
                <table class="table table-bordered tbl-style" id="remarksdiv">
                </table>
            </div>
        </div>
    }

</section>
<div class="modal" id="remarksContainer">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Remarks</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z">
                        </path>
                    </svg>
                </button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <p type="text" id="Remarks_final" name="Remarks_final" class="form-control height39"></p>
            </div>

            <!-- Modal footer -->
           @* <div class="modal-footer justify-content-center">
                <button type="button" class="btn btn-primary">Save</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>*@

        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        Getmentor_remarks();

    });
    function ModalClose() {
        document.getElementById("Remarks_final").value = "";

    }
    function Getmentor_remarks() {
        $.ajax({
            type: 'GET',
            url: './Home/Getstudent_remarksdata',
            data: {
            },
            contentType: "application/x-www-form-urlencoded; charset=utf-8",
            dataType: "json",
            success: function (result) {
                console.log(result);
                $("#remarksContainer").modal("hide");
                $("#remarksdiv").html('');
                var tablestring = "";
                tablestring = tablestring + "<div class='table-responsive'><table id='example55' class='table table_style table-bordered appointments dataTable no-footer' role='grid' aria-describedby='example55_info'>";
                tablestring = tablestring + "<thead class='thead-light'><tr><th>#</th> <th>Date & Time</th><th>Given by</th><th>View</th></tr></thead><tbody>";
                for (var i = 0; i < result.length; i++) {
                    var slno = i + 1;
                    var remarks = result[i].mentor_remarks;

                    var encodedRemarks = JSON.stringify(remarks);
                    tablestring = tablestring + '<tr> <td>' + slno + '</td><td>' + result[i].time + '</td><td>' + result[i].user_name + '</td><td><i class="fa fa-eye cursor_pointer view-remarks"></i></td></tr>';
                }
                tablestring = tablestring + "</tbody></table></div>";
                $("#remarksdiv").append(tablestring);
                $(".view-remarks").on("click", function () {
                    var index = $(this).closest("tr").index();
                    var remarks = result[index].mentor_remarks;
                    getremarksview(remarks);
                });
                $('#example55').DataTable({
                    order: [[1, 'desc']],
                    columnDefs: [
                        { type: 'date', targets: 1 }]
                });
            },
            error: function (jqXHR, textStatus, errorThrown) {
                $(".loaderm").hide();
            }
        });
    };

    function getremarksview(remarks) {
        //debugger;
        var strippedRemarks = remarks.replace(/<\/?[^>]+(>|$)/g, "");
        $("#Remarks_final").html(remarks);
        $("#remarksContainer").modal("show");
    }

</script>