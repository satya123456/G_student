@model Gstudent.Models.Feedback
<section class="contentContainer">
  
    @using (Ajax.BeginForm("createhostelfeedback", "Home", new AjaxOptions { HttpMethod = "POST", LoadingElementId = "loading", UpdateTargetId = "nursing_assessment", OnSuccess = "Successassess" }))
    {

        @*<h3 class="page-title">Hostel students feedback</h3>*@
        <div class="">
            @*<p>All the students residing in Aditya Sadan , Avanthika Sadan  and Nursing  hostels are requested to fill this feedback questionnaire and submit before 09-Oct-2019.</p>*@

            <div class="row">



                <div class="col-md-6">
                    <div class="form-group">
                        <label>1. Name</label>
                        @Html.TextBoxFor(model => model.NAME, new { @class = "form-control", @id = "name", @maxlength = "100", @readonly = "readonly" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>Mobile number</label>
                        @Html.TextBoxFor(model => model.parent_mobile, new { @class = "form-control", @id = "mobile", @readonly = "readonly", @onkeypress = "return ValidateNumberdot(event);", @maxlength = "10" })
                    </div>
                </div>

                <div class="col-12 col-sm-12">
                    <div class="row">
                        <div class="col-12 col-sm-12">
                            <label>2. For permitting student outings, we require written consent from both of your parents. Would you like us to consult your parents and take signed consent forms ?</label>
                        </div>
                        <div class="sec-inline mt-2">
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status1, "No", new { @class = "form-check-input", @id = "radioBtn11", @Name = "status1" })
                                <label class="form-check-label" for="radioBtn11">No</label>
                            </div>
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status1, "Yes", new { @class = "form-check-input", @id = "radioBtn12", @Name = "status1" })
                                <label class="form-check-label" for="radioBtn12">Yes</label>
                            </div>
                        </div>
                        <div class="col-md-10 mt-2">
                            <div class="form-group">

                                @Html.TextBoxFor(model => model.Remarks1, new { @class = "form-control", @id = "Remarks1", @maxlength = "1000" })
                            </div>
                        </div>

                    </div>

                </div>



                <div class="col-12 col-lg-6 ">
                    <div class="form-group finalyr_intership">
                        <label>3. Room would you prefer during your internship (Final year MBBS students only)</label>
                        <div class="sec-inline mt-2">
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status2, "Single room", new { @class = "form-check-input", @id = "single", @Name = "Status2" })
                                <label class="form-check-label" for="single">Single room</label>
                            </div>
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status2, "Double room", new { @class = "form-check-input", @id = "double", @Name = "Status2" })
                                <label class="form-check-label" for="double">Double room</label>
                            </div>
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status2, "No preference", new { @class = "form-check-input", @id = "nopref", @Name = "Status2" })
                                <label class="form-check-label" for="nopref">No preference</label>
                            </div>
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status2, "Not applicable", new { @class = "form-check-input", @id = "noappli", @Name = "Status2" })
                                <label class="form-check-label" for="noappli">Not applicable</label>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="col-lg-6">
                    <div class="form-group ">
                        <label>4. Class attendance percentage in the last semester / year</label>
                        @Html.TextBoxFor(model => model.Remarks3, new { @class = "form-control", @id = "Remarks3", @onkeypress = "return ValidateNumberdot(event);", @maxlength = "20" })
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label>5. Attendance percentage do you commit to attain by end of this semester / year ? Hostel privileges shall curtail if you don't meet class attendance percentage fixed by attendance committee ?</label>
                        @Html.TextBoxFor(model => model.Remarks4, new { @class = "form-control", @id = "Remarks4", @onkeypress = "return ValidateNumberdot(event);", @maxlength = "20" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>6. CGPA to date</label>
                        @Html.TextBoxFor(model => model.Remarks5, new { @class = "form-control", @id = "Remarks5", @onkeypress = "return ValidateNumberdot(event);", @maxlength = "20" })
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label>7. SGPA in the past semester / year</label>
                        @Html.TextBoxFor(model => model.Remarks6, new { @class = "form-control", @id = "Remarks6", @onkeypress = "return ValidateNumberdot(event);", @maxlength = "20" })
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="form-group">
                        <label>8. What SGPA do you commit to attain by end of this semester / year ? Please note, hostel privileges shall curtail if you do not meet SGPA target set by the academic committee. ?</label>
                        @Html.TextBoxFor(model => model.Remarks7, new { @class = "form-control", @id = "Remarks7", @onkeypress = "return ValidateNumberdot(event);", @maxlength = "20" })
                    </div>
                </div>
                <div class="col-12 col-sm-12">
                    <div class="row">
                        <div class="col-12 col-lg-3">
                            <label>9. Hostel room dues more than one month</label>
                        </div>
                        <div class="sec-inline col-lg-6">
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status3, "No", new { @class = "form-check-input", @id = "radioBtn21", @Name = "status3" })
                                <label class="form-check-label" for="radioBtn21">No</label>
                            </div>
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status3, "Yes", new { @class = "form-check-input", @id = "radioBtn22", @Name = "status3" })
                                <label class="form-check-label" for="radioBtn22">Yes</label>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="form-group">

                                @Html.TextBoxFor(model => model.Remarks8, new { @class = "form-control", @id = "Remarks8", @maxlength = "1000" })
                            </div>
                        </div>

                    </div>

                </div>


                <div class="col-12 col-sm-12 ">
                    <div class="row">
                        <div class="col-12 col-lg-3">
                            <label>10. Hostel mess dues more than one month</label>
                        </div>
                        <div class="sec-inline col-lg-6">
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status4, "No", new { @class = "form-check-input", @id = "radioBtn31", @Name = "status4" })
                                <label class="form-check-label" for="radioBtn31">No</label>
                            </div>
                            <div class="form-check">
                                @Html.RadioButtonFor(m => m.Status4, "Yes", new { @class = "form-check-input", @id = "radioBtn32", @Name = "status4" })
                                <label class="form-check-label" for="radioBtn32">Yes</label>
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="form-group">

                                @Html.TextBoxFor(model => model.Remarks9, new { @class = "form-control", @id = "Remarks9", @maxlength = "1000" })
                            </div>
                        </div>

                    </div>

                </div>


                <div class="col-xl-5">
                    <div class="form-group">
                        <label>11. What kind of indoor game facilities you'd like to have in your hostel ?</label>
                        @Html.TextBoxFor(model => model.Remarks10, new { @class = "form-control", @id = "Remarks10", @maxlength = "1000" })
                    </div>
                </div>
                <div class="col-xl-7">
                    <div class="form-group">
                        <label>12. Please write your thoughts on existing hostel processes and how you suggest to improve the processes ?</label>
                        @Html.TextBoxFor(model => model.Remarks11, new { @class = "form-control", @id = "Remarks11", @maxlength = "1000" })

                    </div>
                </div>
                <div class="col-xl-12">
                    <div class="form-group">
                        <label>13. Please provide any other feedback that you'd like to share with us.</label>
                        @Html.TextBoxFor(model => model.Remarks12, new { @class = "form-control", @id = "Remarks12", @maxlength = "1000" })

                    </div>
                </div>
                <div class="btns-group" style="text-align:center">

                    <button type="button" class="btn btn-primary btn-left" id="LinkButton2" onclick="Button1_Click()">Submit</button>
                </div>
















            </div>
        </div>
    }
</section>
<script>
    function Button1_Click(e) {
        if ($("#form0").valid()) {
            swal({
                title: "Are you sure to submit?",
                type: "warning",
                confirmButtonText: "Confirm",
                showCancelButton: true,
                closeOnClickOutside: false,
            })
                .then((willDelete) => {
                    if (willDelete.value) {
                        $("form:first").submit();
                    } else {
                        swal('Cancelled', '', 'error');
                    }
                });

        }
    }
    function Successassess(e) {
        //debugger;
        console.log(e);
        //$('.discharge_history_table').show();


        var error = e.list.msg;
        if (error == "Successfully submitted") {

            swal('Submitted successfully', '', 'success');

            // swal({ icon: "success", text: "Submitted successfully" });
            setTimeout(loaddata, 1500);
        }

        else if (error == "Already submitted") {
            // swal({ icon: "success", text: "Already submitted" });
            swal('Already submitted', '', 'error');
            setTimeout(loaddata, 1500);

        }
        else {
            swal('Cancelled', '', 'error');
            setTimeout(loaddata, 1500);
        }
    }
    function loaddata() {
        loadConfigView('16');
    }
    function limit(element) {

        var s = element.value;
        //alert(s);
        var max_chars = 0;
        if (s.includes(".")) {
            max_chars = 5;
            //alert('1');
        }
        else {
            max_chars = 3;
            //alert('2');
        }

        if (element.value.length > max_chars) {
            element.value = element.value.substr(0, max_chars);
        }
    }
    $("input").on('keydown', function (event) {

        var keycode = (event.keyCode ? event.keyCode : event.which);
        if (keycode == '9') {

        }
        else if (keycode == '8') {
            var id = this.id;

            if (document.getElementById(id).value.length == 1 || document.getElementById(id).value.length == 0) {
                myString = this.id.replace(/\D/g, '');
                var val = "#validmsg" + myString;
                $(val).show();
            }
        }
        else {
            myString = this.id.replace(/\D/g, '');
            var val = "#validmsg" + myString;
            $(val).hide();
        }


    });

    $("textarea").on('keydown', function (event) {
        // ////debugger;
        var keycode = (event.keyCode ? event.keyCode : event.which);
        if (keycode == '9') {

        }
        else if (keycode == '8') {
            var id = this.id;
            if (document.getElementById(id).value.length == 1 || document.getElementById(id).value.length == 0) {
                myString = this.id.replace(/\D/g, '');
                var val = "#validmsg" + myString;
                $(val).show();
            }
        }
        else {
            myString = this.id.replace(/\D/g, '');
            var val = "#validmsg" + myString;
            $(val).hide();
        }


    });
    function int(element) {

        var s = element.value;
        var max_chars = 0;
        if (s.includes(".")) {

            element.value = element.value.replace(/\./g, ' ')
            return false;

        }
        else {

            return true;
        }


    }

    function ValidateSpecialText(evt) {
        var keyCode = (evt.which) ? evt.which : evt.keyCode
        if ((keyCode < 65 || keyCode > 90) && (keyCode < 97 || keyCode > 123) && keyCode != 32 && !(keyCode >= 48 && keyCode <= 57) && !(keyCode == 38) && !(keyCode == 40) && !(keyCode == 41) && !(keyCode == 44) && !(keyCode == 45) && !(keyCode == 47) && !(keyCode == 46) && !(keyCode == 58) && !(keyCode == 13) && !(keyCode == 190))
            return false;
        return true;
    }


    function ValidateNumberdot(e) {
        var specialKeys = new Array();
        specialKeys.push("Backspace"); //Backspace
        specialKeys.push("Delete"); //Delete
        specialKeys.push("Enter"); //Enter
        specialKeys.push("Tab"); //Tab
        specialKeys.push("."); //dot
        var keyCode = e.keyCode != 32 ? e.key : -1;
        var ret = ((keyCode >= 0 && keyCode <= 10) || specialKeys.indexOf(keyCode) != -1 || (keyCode >= 106 && keyCode <= 115) || keyCode == 46);
        return ret;
    };


    //$('#someTextBox').keypress(function (event) {
    //    var keycode = (event.keyCode ? event.keyCode : event.which);
    //    if (keycode == '13') {
    //        alert('You pressed a "enter" key in textbox');
    //    }
    //});

    $("#radioBtn12").click(function () {
        $("#Remarks1").show();

    });
    $("#radioBtn11").click(function () {
        $("#Remarks1").hide();
        $("#Remarks1").val("");
    });

    $("#radioBtn22").click(function () {
        $("#Remarks8").show();

    });
    $("#radioBtn21").click(function () {
        $("#Remarks8").hide();
        $("#Remarks8").val("");
    });

    $("#radioBtn32").click(function () {
        $("#Remarks9").show();

    });
    $("#radioBtn31").click(function () {
        $("#Remarks9").hide();
        $("#Remarks9").val("");
    });
</script>
<script>
    $(document).ready(function () {


        if (document.getElementById('radioBtn12').checked) {

            $("#Remarks1").show();
        }
        else {

            $("#Remarks1").hide();
            document.getElementById('radioBtn11').checked = true;
        }


        if (document.getElementById('radioBtn22').checked) {

            $("#Remarks8").show();
        }
        else {

            $("#Remarks8").hide();
            document.getElementById('radioBtn21').checked = true;
        }


        if (document.getElementById('radioBtn32').checked) {
            $("#Remarks9").show();
        }
        else {
            $("#Remarks9").hide();
            document.getElementById('radioBtn31').checked = true;
        }



    });
</script>